# study postgreSQL

## 사전준비 : 가라 테이블 
### 1. postgreSQL 설치하기
- 서버 생성하기(개발환경)  
- 서버에 DB 설치하기  

### 2. optimizing 하기
- 서비스 환경에 맞도록 DB 최적화시키기  
    ex) 메모리 크기, 한글 정렬 등..   
    최근 인포매티카가 죽었는데 이유는 heap 공간이 부족해서.. 즉, 서비스 환경에 필요한 메모리 등을 최적화하지 않고 디폴트 값으로 사용했기 때문에..  
    postgreSQL에 언어(한국어, 영어 등)마다 collation을 다르게 설정해 줘야 함  
    
- 서버가 가동되기 전에 환경 설정에 필요한 파라메타 값을 찾아서 미리 설정해주기  
    why? 두 번 가동하지 않도록..  

### 3. replication 설정하기
- __무중단__ 으로 설정하기   
- replication configration 파라메터 미리 찾아서 설정하기  


### 4. HA test
- 마스터 죽이고 다시 살리기  
- 서버가 가동된 이후로는 꺼지지 않도록 하고, 최대한 빠르게 구동되도록 하기 
    vip 사용하기, 접속 정보 바꾸기(master -> slave) 등  
### ------- 여기까지 진행 후 덕우과장님께 말씀 드리기 ------
### 5. 백업 및 장애 복구하기
- drop table 후 테이블 복구
    덕우과장님께서 데이터를 계속 붙이시다가 랜덤한 테이블을 삭제할 계획
- 복구할 수 있는 단계까지 준비  

* 페이로드  
* 페이백 
* Full GC :  
    GC - 가비지 컬렉션: 사용하지 않는 메모리를 자동으로 수거하는 기능  
    heap 영역에서 GC가 발생했을 때  

